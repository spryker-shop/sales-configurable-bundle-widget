{% extends model('component') %}

{% define config = {
    name: 'order-detail-configured-bundle-product',
} %}

{% define data = {
    product: required,
    currencyIsoCode: null,
} %}

{% block body %}
    {% embed molecule('configured-bundle-product', 'ConfigurableBundleWidget') ignore missing with {
        data: {
            product: data.product,
            currencyIsoCode: data.currencyIsoCode,
        },
    } only %}
        {% block imageContainer %}
            <div class="{{ config.name }}__col {{ config.name }}__col--container col col--sm-12 col--lg-2">
                {% block image %}
                    <div class="{{ config.name }}__col-item">
                        <div class="{{ config.name }}__col-inner">
                            {% widget 'CustomerReorderItemCheckboxWidget' args [data.product] only %}{% endwidget %}
                        </div>
                    </div>
                    <div class="{{ config.name }}__col-item {{ config.name }}__image-container">
                        {% include atom('thumbnail') with {
                            modifiers: ['small', 'static'],
                            attributes: {
                                src: data.product.metadata.image,
                                alt: data.product.name,
                            },
                        } only %}
                    </div>
                {% endblock %}
            </div>
        {% endblock %}
    {% endembed %}
{% endblock %}
